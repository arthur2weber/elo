:root {
  --bg: #0b0e14;
  --bg-card: #111620;
  --bg-hover: #161c28;
  --bg-sidebar: #0d1018;
  --border: #1e2738;
  --border-l: #2a3650;
  --text: #e4e8f1;
  --text-muted: #7c8ba5;
  --accent: #5b8af5;
  --accent-dim: rgba(91,138,245,.12);
  --green: #34d399;
  --green-dim: rgba(52,211,153,.12);
  --red: #f87171;
  --red-dim: rgba(248,113,113,.12);
  --amber: #fbbf24;
  --amber-dim: rgba(251,191,36,.12);
  --purple: #a78bfa;
  --purple-dim: rgba(167,139,250,.12);
  --blue: #60a5fa;
  --blue-dim: rgba(96,165,250,.12);
  --cyan: #22d3ee;
  --cyan-dim: rgba(34,211,238,.12);
  --radius: 10px;
  --radius-lg: 16px;
  --sidebar-w: 248px;
  --header-h: 56px;
  --font: 'Inter', system-ui, -apple-system, sans-serif;
  --shadow: 0 2px 12px rgba(0,0,0,.35);
  --shadow-lg: 0 8px 32px rgba(0,0,0,.5);
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 14px; }
body { font-family: var(--font); background: var(--bg); color: var(--text); overflow-x: hidden; min-height: 100vh; display: flex; }
a { color: inherit; text-decoration: none; }
button { cursor: pointer; font-family: inherit; }
input, textarea, select { font-family: inherit; font-size: .925rem; background: var(--bg); color: var(--text); border: 1px solid var(--border); border-radius: var(--radius); padding: .55rem .75rem; outline: none; transition: border-color .2s; }
input:focus, textarea:focus, select:focus { border-color: var(--accent); }
select option { background: var(--bg-card); }
::selection { background: var(--accent); color: #fff; }
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-l); border-radius: 3px; }

.sidebar { width: var(--sidebar-w); min-width: var(--sidebar-w); height: 100vh; position: fixed; top: 0; left: 0; z-index: 100; background: var(--bg-sidebar); border-right: 1px solid var(--border); display: flex; flex-direction: column; transition: transform .3s ease; }
.sidebar-brand { display: flex; align-items: center; gap: .75rem; padding: 1.25rem 1.25rem 1rem; }
.brand-icon { width: 32px; height: 32px; color: var(--accent); flex-shrink: 0; }
.brand-icon svg { width: 100%; height: 100%; }
.brand-name { font-weight: 800; font-size: 1.15rem; letter-spacing: .06em; }
.brand-sub { font-size: .65rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: .08em; display: block; margin-top: -2px; }
.sidebar-nav { flex: 1; overflow-y: auto; padding: .5rem 0; }
.nav-group { margin-bottom: .25rem; }
.nav-label { display: block; padding: .5rem 1.25rem .25rem; font-size: .6rem; font-weight: 600; text-transform: uppercase; letter-spacing: .1em; color: var(--text-muted); }
.nav-item { display: flex; align-items: center; gap: .65rem; padding: .55rem 1.25rem; margin: 1px .5rem; border-radius: var(--radius); font-size: .875rem; font-weight: 500; color: var(--text-muted); transition: all .15s ease; }
.nav-item:hover { color: var(--text); background: var(--bg-hover); }
.nav-item.active { color: var(--accent); background: var(--accent-dim); }
.nav-item svg { width: 18px; height: 18px; flex-shrink: 0; }
.nav-badge { margin-left: auto; font-size: .65rem; font-weight: 700; background: var(--accent-dim); color: var(--accent); padding: .1rem .45rem; border-radius: 99px; min-width: 1.3rem; text-align: center; }
.nav-danger { color: var(--red) !important; }
.nav-danger.active { background: var(--red-dim) !important; }
.sidebar-footer { padding: .75rem 1rem; border-top: 1px solid var(--border); }
.status-pill { display: flex; align-items: center; gap: .5rem; font-size: .75rem; color: var(--text-muted); }
.status-pill.small { gap: .35rem; font-size: 0; }
.status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--amber); flex-shrink: 0; transition: background .3s; }
.status-dot.online { background: var(--green); }
.status-dot.offline { background: var(--red); }
.sidebar-overlay { display: none; position: fixed; inset: 0; z-index: 99; background: rgba(0,0,0,.5); }

.mobile-header { display: none; position: fixed; top: 0; left: 0; right: 0; z-index: 50; height: var(--header-h); background: var(--bg-sidebar); border-bottom: 1px solid var(--border); align-items: center; padding: 0 1rem; gap: .75rem; }
.menu-toggle { background: none; border: none; color: var(--text); padding: .25rem; }
.mobile-title { font-weight: 800; font-size: 1rem; letter-spacing: .06em; }

.main-content { flex: 1; margin-left: var(--sidebar-w); min-height: 100vh; }
.page { display: none; padding: 2rem 2.5rem; max-width: 1360px; animation: fadeIn .3s ease; }
.page.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

.page-header { display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem; margin-bottom: 1.75rem; }
.page-title { font-size: 1.65rem; font-weight: 700; }
.page-subtitle { color: var(--text-muted); font-size: .85rem; margin-top: .15rem; }
.page-actions { display: flex; gap: .5rem; align-items: center; }

.btn { display: inline-flex; align-items: center; gap: .4rem; padding: .5rem 1rem; border-radius: var(--radius); font-size: .82rem; font-weight: 600; border: 1px solid transparent; transition: all .15s; white-space: nowrap; }
.btn-primary { background: var(--accent); color: #fff; }
.btn-primary:hover { filter: brightness(1.15); }
.btn-ghost { background: transparent; color: var(--text-muted); border-color: var(--border); }
.btn-ghost:hover { border-color: var(--text-muted); color: var(--text); }
.btn-accent { background: var(--purple-dim); color: var(--purple); border-color: transparent; }
.btn-accent:hover { background: var(--purple); color: #fff; }
.btn-danger { background: var(--red-dim); color: var(--red); border-color: transparent; }
.btn-danger:hover { background: var(--red); color: #fff; }
.btn-success { background: var(--green-dim); color: var(--green); }
.btn-success:hover { background: var(--green); color: #fff; }
.btn-sm { padding: .35rem .7rem; font-size: .75rem; }
.link-btn { font-size: .75rem; color: var(--accent); font-weight: 600; cursor: pointer; }
.link-btn:hover { text-decoration: underline; }

.search-box { display: flex; align-items: center; gap: .5rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: .4rem .75rem; }
.search-box input { background: transparent; border: none; padding: 0; min-width: 160px; }
.search-box svg { color: var(--text-muted); flex-shrink: 0; }

.kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.kpi-card { display: flex; align-items: center; gap: 1rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1.25rem 1.35rem; transition: transform .15s, box-shadow .15s; }
.kpi-card:hover { transform: translateY(-2px); box-shadow: var(--shadow); }
.kpi-icon { width: 44px; height: 44px; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.kpi-icon svg { width: 22px; height: 22px; }
.kpi-icon.blue { background: var(--blue-dim); color: var(--blue); }
.kpi-icon.green { background: var(--green-dim); color: var(--green); }
.kpi-icon.purple { background: var(--purple-dim); color: var(--purple); }
.kpi-icon.amber { background: var(--amber-dim); color: var(--amber); }
.kpi-info { display: flex; flex-direction: column; }
.kpi-value { font-size: 1.55rem; font-weight: 700; line-height: 1.1; }
.kpi-label { font-size: .72rem; color: var(--text-muted); margin-top: .15rem; }

.card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); overflow: hidden; }
.card-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.25rem; border-bottom: 1px solid var(--border); }
.card-header h3 { font-size: .9rem; font-weight: 600; }
.card-body { padding: 1.25rem; }
.card-tall .card-body { min-height: 280px; }
.card-danger { border-color: rgba(248,113,113,.25); }
.card-danger .card-header { background: var(--red-dim); }
.dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

.badge { font-size: .65rem; font-weight: 700; padding: .1rem .5rem; border-radius: 99px; background: var(--accent-dim); color: var(--accent); }
.badge-green { background: var(--green-dim); color: var(--green); }
.badge-red { background: var(--red-dim); color: var(--red); }
.badge-amber { background: var(--amber-dim); color: var(--amber); }

.code-block { font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; font-size: .78rem; line-height: 1.55; background: var(--bg); border: 1px solid var(--border); border-radius: var(--radius); padding: .85rem 1rem; overflow-x: auto; white-space: pre-wrap; word-break: break-word; color: var(--text-muted); }
.code-block.compact { max-height: 220px; overflow-y: auto; }

.empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: .5rem; text-align: center; color: var(--text-muted); padding: 2.5rem 1rem; }
.empty-state.small { padding: 1.5rem; }
.empty-state svg { opacity: .35; }
.empty-state p { font-size: .9rem; }
.text-muted { color: var(--text-muted); font-size: .8rem; }
.mb-3 { margin-bottom: .75rem; }
.mt-2 { margin-top: .5rem; }

.event-list { display: flex; flex-direction: column; }
.event-item { display: flex; align-items: flex-start; gap: .65rem; padding: .65rem 0; border-bottom: 1px solid var(--border); }
.event-item:last-child { border-bottom: none; }
.event-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent); margin-top: 5px; flex-shrink: 0; }
.event-dot.green { background: var(--green); }
.event-dot.red { background: var(--red); }
.event-dot.amber { background: var(--amber); }
.event-dot.purple { background: var(--purple); }
.event-info { flex: 1; min-width: 0; }
.event-text { font-size: .82rem; line-height: 1.3; }
.event-time { font-size: .7rem; color: var(--text-muted); }
.scroll-y { max-height: 380px; overflow-y: auto; }

.device-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem; }
.device-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1.25rem; cursor: pointer; transition: all .15s ease; position: relative; }
.device-card:hover { border-color: var(--accent); transform: translateY(-2px); box-shadow: var(--shadow); }
.device-card-head { display: flex; align-items: center; gap: .75rem; margin-bottom: .75rem; }
.device-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; background: var(--bg-hover); }
.device-name { font-weight: 600; font-size: .95rem; }
.device-type { font-size: .72rem; color: var(--text-muted); }
.device-meta { display: flex; gap: .75rem; flex-wrap: wrap; margin-top: .5rem; }
.device-meta-item { font-size: .7rem; color: var(--text-muted); display: flex; align-items: center; gap: .25rem; }
.device-status-dot { width: 6px; height: 6px; border-radius: 50%; display: inline-block; }
.device-status-dot.ready { background: var(--green); }
.device-status-dot.pending { background: var(--amber); }
.device-status-dot.unknown { background: var(--text-muted); }
.device-actions-bar { display: flex; gap: .35rem; margin-top: .85rem; padding-top: .75rem; border-top: 1px solid var(--border); }

.chat-container { display: flex; flex-direction: column; height: calc(100vh - 4rem); max-width: 800px; margin: 0 auto; }
.chat-messages { flex: 1; overflow-y: auto; padding: 1rem 0; }
.chat-welcome { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 4rem 1rem 2rem; gap: .5rem; }
.chat-welcome-icon { color: var(--accent); }
.chat-welcome h3 { font-size: 1.35rem; font-weight: 700; margin-top: .5rem; }
.chat-welcome p { color: var(--text-muted); max-width: 400px; font-size: .9rem; }
.quick-prompts { display: flex; flex-wrap: wrap; gap: .5rem; justify-content: center; margin-top: 1rem; }
.quick-prompt { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: .5rem .85rem; font-size: .78rem; color: var(--text); transition: all .15s; }
.quick-prompt:hover { border-color: var(--accent); background: var(--accent-dim); }
.chat-bubble { max-width: 75%; padding: .75rem 1rem; border-radius: var(--radius-lg); margin-bottom: .5rem; font-size: .88rem; line-height: 1.5; word-wrap: break-word; }
.chat-bubble.user { background: var(--accent); color: #fff; margin-left: auto; border-bottom-right-radius: 4px; }
.chat-bubble.assistant { background: var(--bg-card); border: 1px solid var(--border); border-bottom-left-radius: 4px; }
.chat-bubble.assistant pre { background: var(--bg); border-radius: 6px; padding: .5rem .75rem; margin: .5rem 0; overflow-x: auto; font-size: .8rem; }
.chat-input-area { padding: .75rem 0; }
.chat-input-wrapper { display: flex; align-items: center; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: .3rem .5rem .3rem 1rem; }
.chat-input-wrapper input { flex: 1; background: transparent; border: none; padding: .5rem 0; }
.chat-send-btn { background: var(--accent); color: #fff; border: none; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: filter .15s; }
.chat-send-btn:hover { filter: brightness(1.15); }

.people-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1rem; }
.person-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1.25rem; cursor: pointer; transition: all .15s; }
.person-card:hover { border-color: var(--accent); transform: translateY(-2px); box-shadow: var(--shadow); }
.person-card-head { display: flex; align-items: center; gap: .85rem; }
.person-avatar { width: 48px; height: 48px; border-radius: 50%; background: var(--accent-dim); color: var(--accent); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.1rem; flex-shrink: 0; overflow: hidden; }
.person-avatar img { width: 100%; height: 100%; object-fit: cover; }
.person-name { font-weight: 600; }
.person-role { font-size: .72rem; color: var(--text-muted); text-transform: capitalize; }
.person-meta { margin-top: .65rem; }
.person-detections { font-size: .72rem; color: var(--text-muted); display: flex; align-items: center; gap: .35rem; }
.person-card-actions { display: flex; gap: .35rem; margin-top: .75rem; padding-top: .65rem; border-top: 1px solid var(--border); }

.face-section { margin-top: 1rem; }
.face-section h4 { font-size: .9rem; margin-bottom: .25rem; }
.face-upload-zone { border: 2px dashed var(--border-l); border-radius: var(--radius-lg); padding: 1.25rem; text-align: center; cursor: pointer; transition: all .2s; min-height: 120px; display: flex; align-items: center; justify-content: center; position: relative; }
.face-upload-zone:hover, .face-upload-zone.drag-over { border-color: var(--accent); background: var(--accent-dim); }
.face-prompt { display: flex; flex-direction: column; align-items: center; gap: .35rem; color: var(--text-muted); }
.face-prompt p { font-size: .82rem; font-weight: 500; }
.face-prompt span { font-size: .68rem; }
.face-preview-img { display: none; }
.face-preview-img.has-img { display: block; width: 100%; max-height: 200px; border-radius: var(--radius); overflow: hidden; }
.face-preview-img.has-img img { width: 100%; height: 100%; object-fit: contain; }

.upload-zone { border: 2px dashed var(--border-l); border-radius: var(--radius-lg); padding: 1.5rem; text-align: center; cursor: pointer; transition: all .2s; display: flex; flex-direction: column; align-items: center; gap: .5rem; color: var(--text-muted); }
.upload-zone:hover, .upload-zone.drag-over { border-color: var(--accent); background: var(--accent-dim); }
.upload-zone p { font-size: .82rem; font-weight: 500; }

.voice-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.tts-player { width: 100%; margin-top: .75rem; border-radius: var(--radius); }
.voice-status-grid { display: flex; flex-direction: column; gap: .5rem; }
.voice-svc { display: flex; align-items: center; gap: .65rem; padding: .65rem .85rem; background: var(--bg); border-radius: var(--radius); }
.voice-svc-name { font-size: .82rem; font-weight: 500; }
.voice-svc-badge { margin-left: auto; }

#pipeline-steps .step { display: flex; align-items: flex-start; gap: .65rem; padding: .55rem 0; border-bottom: 1px solid var(--border); }
#pipeline-steps .step:last-child { border-bottom: none; }
#pipeline-steps .step-num { width: 22px; height: 22px; border-radius: 50%; background: var(--accent-dim); color: var(--accent); display: flex; align-items: center; justify-content: center; font-size: .65rem; font-weight: 700; flex-shrink: 0; }
#pipeline-steps .step-label { font-size: .75rem; color: var(--text-muted); }
#pipeline-steps .step-value { font-size: .85rem; margin-top: .15rem; }

.auto-tabs { display: flex; gap: .25rem; margin-bottom: 1.25rem; background: var(--bg-card); border-radius: var(--radius); padding: .25rem; width: fit-content; }
.auto-tab { padding: .45rem 1rem; border-radius: 8px; font-size: .8rem; font-weight: 600; background: transparent; border: none; color: var(--text-muted); transition: all .15s; }
.auto-tab.active { background: var(--accent); color: #fff; }
.auto-tab:not(.active):hover { color: var(--text); }
.auto-panel { display: none; }
.auto-panel.active { display: block; }

.rule-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem 1.25rem; margin-bottom: .75rem; }
.rule-card-head { display: flex; justify-content: space-between; align-items: flex-start; }
.rule-name { font-weight: 600; font-size: .9rem; }
.rule-conf { font-size: .68rem; font-weight: 700; padding: .15rem .5rem; border-radius: 99px; }
.rule-flow { display: flex; align-items: center; gap: .5rem; margin: .75rem 0; flex-wrap: wrap; }
.rule-node { background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: .35rem .65rem; font-size: .75rem; font-weight: 500; }
.rule-node.trigger { border-color: var(--amber); color: var(--amber); }
.rule-node.action { border-color: var(--green); color: var(--green); }
.rule-arrow { color: var(--text-muted); font-size: .85rem; }
.rule-actions { display: flex; gap: .35rem; margin-top: .65rem; padding-top: .65rem; border-top: 1px solid var(--border); }

.corr-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem 1.25rem; margin-bottom: .75rem; }
.corr-header { display: flex; justify-content: space-between; align-items: center; }
.corr-type { font-weight: 600; font-size: .85rem; }
.corr-conf { font-size: .7rem; }
.corr-flow { display: flex; align-items: center; gap: .5rem; margin: .65rem 0; flex-wrap: wrap; }
.corr-node { background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: .35rem .7rem; font-size: .75rem; }
.corr-node.src { border-color: var(--cyan); color: var(--cyan); }
.corr-node.tgt { border-color: var(--purple); color: var(--purple); }
.corr-desc { font-size: .78rem; color: var(--text-muted); }

.sugg-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem 1.25rem; margin-bottom: .75rem; }
.sugg-title { font-weight: 600; font-size: .88rem; }
.sugg-body { font-size: .82rem; color: var(--text-muted); margin-top: .35rem; line-height: 1.5; }
.sugg-actions { display: flex; gap: .35rem; margin-top: .65rem; padding-top: .65rem; border-top: 1px solid var(--border); }

.discovery-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 1rem 1.25rem; margin-bottom: .65rem; display: flex; align-items: center; gap: 1rem; }
.discovery-icon { font-size: 1.5rem; }
.discovery-info { flex: 1; min-width: 0; }
.discovery-name { font-weight: 600; font-size: .88rem; }
.discovery-detail { font-size: .72rem; color: var(--text-muted); }

.briefing-content { font-size: .88rem; line-height: 1.7; }
.briefing-content h1, .briefing-content h2, .briefing-content h3 { margin: 1rem 0 .5rem; font-weight: 700; }
.briefing-content p { margin-bottom: .65rem; }
.briefing-content ul, .briefing-content ol { padding-left: 1.5rem; margin-bottom: .65rem; }

.settings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.config-list { display: flex; flex-direction: column; gap: .5rem; }
.config-item { display: flex; justify-content: space-between; align-items: center; padding: .55rem .85rem; background: var(--bg); border-radius: var(--radius); font-size: .82rem; }
.config-key { font-weight: 500; }
.config-val { color: var(--text-muted); font-size: .75rem; max-width: 50%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.settings-form { display: flex; flex-direction: column; gap: .75rem; }
.form-group { display: flex; flex-direction: column; gap: .25rem; flex: 1; }
.form-group label { font-size: .72rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: .05em; }
.form-row { display: flex; gap: .75rem; }

.hint-box { background: var(--accent-dim); border: 1px solid rgba(91,138,245,.2); border-radius: var(--radius); padding: .6rem .85rem; font-size: .78rem; margin-bottom: .75rem; display: none; }
.hint-box.visible { display: block; }

.modal-overlay { display: none; position: fixed; inset: 0; z-index: 200; background: rgba(0,0,0,.6); backdrop-filter: blur(4px); align-items: center; justify-content: center; }
.modal-overlay.open { display: flex; }
.modal-container { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); width: 90%; max-width: 520px; max-height: 90vh; overflow-y: auto; box-shadow: var(--shadow-lg); animation: modalIn .25s ease; }
.modal-lg { max-width: 680px; }
@keyframes modalIn { from { opacity: 0; transform: scale(.95) translateY(12px); } to { opacity: 1; transform: scale(1) translateY(0); } }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.25rem; border-bottom: 1px solid var(--border); }
.modal-header h2 { font-size: 1.05rem; font-weight: 700; }
.modal-close { background: none; border: none; color: var(--text-muted); font-size: 1.5rem; line-height: 1; padding: .25rem; }
.modal-close:hover { color: var(--text); }
.modal-body { padding: 1.25rem; }
.modal-footer { display: flex; justify-content: flex-end; gap: .5rem; padding-top: .75rem; margin-top: .5rem; }

.modal-tabs-bar { display: flex; gap: 0; border-bottom: 1px solid var(--border); }
.mtab { flex: 1; padding: .65rem; text-align: center; font-size: .82rem; font-weight: 600; background: transparent; border: none; color: var(--text-muted); border-bottom: 2px solid transparent; transition: all .15s; }
.mtab.active { color: var(--accent); border-bottom-color: var(--accent); }
.mtab:not(.active):hover { color: var(--text); }
.mtab-content { display: none; }
.mtab-content.active { display: block; }

.controls-section { margin-bottom: 1rem; }
.controls-section h4 { font-size: .82rem; font-weight: 600; margin-bottom: .5rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: .05em; }
.tv-remote { display: grid; grid-template-columns: repeat(3, 1fr); gap: .35rem; max-width: 260px; margin: 0 auto; }
.tv-remote .btn { justify-content: center; }
.cam-preview { position: relative; border-radius: var(--radius-lg); overflow: hidden; background: #000; aspect-ratio: 16/9; margin-bottom: .75rem; }
.cam-preview img, .cam-preview video { width: 100%; height: 100%; object-fit: contain; }
.ac-controls { display: flex; align-items: center; gap: 1rem; justify-content: center; padding: 1rem 0; }
.ac-temp { font-size: 2.5rem; font-weight: 800; min-width: 70px; text-align: center; }
.ac-btn { width: 44px; height: 44px; border-radius: 50%; background: var(--bg); border: 1px solid var(--border); color: var(--text); font-size: 1.2rem; font-weight: 700; display: flex; align-items: center; justify-content: center; transition: all .15s; }
.ac-btn:hover { border-color: var(--accent); color: var(--accent); }

.toast-container { position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 999; display: flex; flex-direction: column; gap: .5rem; pointer-events: none; }
.toast { pointer-events: auto; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: .65rem 1rem; font-size: .82rem; box-shadow: var(--shadow-lg); display: flex; align-items: center; gap: .5rem; animation: toastIn .3s ease; max-width: 340px; }
.toast.success { border-color: var(--green); }
.toast.error { border-color: var(--red); }
.toast.info { border-color: var(--accent); }
@keyframes toastIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
.toast-icon { flex-shrink: 0; font-size: 1rem; }
.toast.exiting { animation: toastOut .3s ease forwards; }
@keyframes toastOut { to { opacity: 0; transform: translateY(12px); } }

.spinner { width: 18px; height: 18px; border: 2px solid var(--border); border-top-color: var(--accent); border-radius: 50%; animation: spin .6s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width: 1024px) { .dashboard-grid { grid-template-columns: 1fr; } .settings-grid { grid-template-columns: 1fr; } .voice-grid { grid-template-columns: 1fr; } }
@media (max-width: 768px) { .sidebar { transform: translateX(-100%); } .sidebar.open { transform: translateX(0); } .sidebar-overlay.open { display: block; } .mobile-header { display: flex; } .main-content { margin-left: 0; padding-top: var(--header-h); } .page { padding: 1.25rem 1rem; } .kpi-grid { grid-template-columns: 1fr 1fr; } .device-grid { grid-template-columns: 1fr; } .people-grid { grid-template-columns: 1fr; } .form-row { flex-direction: column; gap: .5rem; } .chat-container { height: calc(100vh - var(--header-h) - 2rem); } .chat-bubble { max-width: 90%; } }
@media (max-width: 480px) { .kpi-grid { grid-template-columns: 1fr; } }
